<!DOCTYPE html>
<html>
	<head>
		<title>Leaflet</title>
		<script src="js/jquery-1.11.0.min.js"></script>
		<script src="js/lightbox.min.js"></script>
		<link href="css/lightbox.css" rel="stylesheet" />
		<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
		<script src="http://d3js.org/topojson.v1.min.js"></script>
		<script src="CommunesNPDCP_simpTopo.json"></script>
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
		<style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100%;
        }
		img {
			height: 250px;
		}
		</style>
	</head>
	<body>
		<div id="map"></div>
		<script type="text/javascript">

		
		// objet carte
		
		var map = L.map('map').setView([50, 2.52], 8);
		
		// fond de plan (ici MapQuest)
		
		L.tileLayer('http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png').addTo(map);
				
		// snippet for TopoJson
		
		L.TopoJSON = L.GeoJSON.extend({  
		  addData: function(jsonData) {    
			if (jsonData.type === "Topology") {
			  for (key in jsonData.objects) {
				geojson = topojson.feature(jsonData, jsonData.objects[key]);
				L.GeoJSON.prototype.addData.call(this, geojson);
			  }
			}    
			else {
			  L.GeoJSON.prototype.addData.call(this, jsonData);
			}
		  }  
		});
		// Copyright (c) 2013 Ryan Clark
		
		// couche communes
		
		var communesLayer = new L.TopoJSON();
		communesLayer.addData(CommunesNPDCP);
		communesLayer.addTo(map);		

		</script>
    </body>
</html>